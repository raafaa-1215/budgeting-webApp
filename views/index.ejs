<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="/css/index.css">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
</head>
<body>
    <%- include('navbar'); %>
    <div class="body">
        <h1 class="overview-title">Overview</h1>
        <div class="row">
            <div id="liquid-income-table-div" class="liquid-income-table-div">
                <h3>Liquid Income</h3>
                <table id="liquid-income-table" class="liquid-income-table">
                    <tr>
                        <th>Name</th>
                        <th>Amount</th>
                    </tr>
                    <% if (liquidIncomeData[0] == null) { %>
                        <td colspan="2"><h2>No data found!</h2></td>
                    <% } else {
                            for (let i=0; i < liquidIncomeData.length; i++) { %>
                                <tr>
                                    <td><%= liquidIncomeData[i].name %></td>
                                    <td><%= liquidIncomeData[i].amount %>€</td>
                                </tr>
                     <% } } %>
                </table>
            </div>
            <div id="income-ratio-chart-div" class="income-ratio-chart-div">
                <h3>Income Strings Ratio (€)</h3>
                <div id="income-ratio-chart" class="income-ratio-chart"></div>
                <script src="/graphs/income-ratio-chart.js"></script>
            </div>
            <div id="budgeting-arrow-table-div" class="budgeting-arrow-table-div">
                <h3>Budgeting</h3>
                <table id="budgeting-arrow-table" class="budgeting-arrow-table">
                    <tr>
                        <th>Income</th>
                        <th></th>
                        <th></th>
                        <th>Expense</th>
                    </tr>
                    <% if (budgetingData[0] == null) { %>
                        <td colspan="4"><h2>No data found!</h2></td>
                    <% } else {
                            for (let i=0; i < budgetingData.length; i++) { %>
                                <tr>
                                    <td><%= budgetingData[i].incomeName %></td>
                                    <td colspan="2"><img src="/images/arrow-icon.png" width="24px"></td>
                                    <td><%= budgetingData[i].expenseName %></td>
                                </tr>
                     <% } } %>
                </table>
            </div>
        </div>
        <div class="row">
            <div id="taxes-chart-div" class="taxes-chart-div">
                <h3>Taxes (%)</h3>
                <div id="taxes-chart" class="taxes-chart"></div>
                <script src="/graphs/taxes-chart.js"></script>
            </div>
            <div id="money-left-div" class="money-left-div">
                <h3>After Taxes and Expenses you have (€):</h3>
                <div id="money-left-chart" class="money-left-chart"></div>
                <script src="/graphs/money-left-chart.js"></script>
            </div>
            <div id="expenses-table-div" class="expenses-table-div">
                <h3>Expenses</h3>
                <table id="expenses-table" class="expenses-table">
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Amount</th>
                    </tr>
                    <% if (expensesData[0] == null) { %>
                        <td colspan="3"><h2>No data found!</h2></td>
                    <% } else {
                            for (let i=0; i < expensesData.length; i++) { %>
                                <tr>
                                    <td><%= expensesData[i].name %></td>
                                    <td><%= expensesData[i].type %></td>
                                    <td><%= expensesData[i].amount %>€</td>
                                </tr>
                     <% } } %>
                </table>
            </div>
        </div>
    </div>
</body>
</html>